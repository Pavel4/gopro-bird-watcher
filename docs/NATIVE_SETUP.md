# –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –∑–∞–ø–∏—Å–∏ —Å GoPro –≤ –Ω–∞—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ
(–±–µ–∑ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **macOS** 11+ (Intel –∏–ª–∏ Apple Silicon)
- **Linux** (Ubuntu 20.04+, Debian 11+, Raspberry Pi OS)
- **Windows** 10/11 (—Å WSL2 –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

### –ñ–µ–ª–µ–∑–æ
- **GoPro Hero 13** (–∏–ª–∏ –¥—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π USB Webcam)
- **USB-C –∫–∞–±–µ–ª—å** –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è GoPro
- **–ú–∏–Ω–∏–º—É–º 10 GB** —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **2+ GB RAM** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4 GB)

---

## üõ† –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### macOS

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Homebrew (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
/bin/bash -c "$(curl -fsSL \
  https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.11+
brew install python@3.11

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg (–¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ)
brew install ffmpeg

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π
python3 --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3.11+
ffmpeg -version    # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```

### Linux (Ubuntu/Debian)

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.11+ –∏ pip
sudo apt install python3 python3-pip python3-venv -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg
sudo apt install ffmpeg -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ V4L2 —É—Ç–∏–ª–∏—Ç (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å USB –∫–∞–º–µ—Ä–∞–º–∏)
sudo apt install v4l-utils -y

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π
python3 --version
ffmpeg -version
v4l2-ctl --version
```

### Raspberry Pi 5

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt install python3 python3-pip python3-venv ffmpeg v4l-utils -y

# –î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –Ω–∞ ARM (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo apt install python3-opencv -y
```

---

## üêç –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Python –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /app

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# macOS/Linux:
source venv/bin/activate

# Windows (WSL):
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade pip
pip install -r detector/requirements.txt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
python -c "import cv2; print('OpenCV –≤–µ—Ä—Å–∏—è:', cv2.__version__)"
python -c "import numpy; print('NumPy –≤–µ—Ä—Å–∏—è:', numpy.__version__)"
```

### –°–æ–¥–µ—Ä–∂–∏–º–æ–µ requirements.txt

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `detector/requirements.txt` —Å–æ–¥–µ—Ä–∂–∏—Ç:

```txt
opencv-python-headless==4.9.0.80
numpy==1.26.4
aiogram==3.24.0
```

---

## üé• –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ GoPro

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–∞–º–µ—Ä—ã

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ GoPro** –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É —á–µ—Ä–µ–∑ USB-C –∫–∞–±–µ–ª—å
2. **–í–∫–ª—é—á–∏—Ç–µ –∫–∞–º–µ—Ä—É**
3. **–ù–∞ —ç–∫—Ä–∞–Ω–µ GoPro:** –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è ‚Üí USB
4. **–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º:** `GoPro Connect` (–ù–ï MTP –∏–ª–∏ Mass Storage!)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### macOS

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ USB –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
system_profiler SPUSBDataType | grep -i gopro

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞–º–µ—Ä —á–µ—Ä–µ–∑ FFmpeg
ffmpeg -f avfoundation -list_devices true -i ""

# –í—ã–≤–æ–¥ –ø–æ–∫–∞–∂–µ—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
# [0] FaceTime HD Camera
# [1] GoPro Camera

# –ó–∞–ø–æ–º–Ω–∏—Ç–µ –∏–Ω–¥–µ–∫—Å GoPro (–æ–±—ã—á–Ω–æ 1)
```

#### Linux / Raspberry Pi

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ USB —É—Å—Ç—Ä–æ–π—Å—Ç–≤
lsusb | grep -i gopro

# –°–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤
ls -la /dev/video*

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
v4l2-ctl --list-devices

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ (–∑–∞–º–µ–Ω–∏—Ç–µ video0 –Ω–∞ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)
v4l2-ctl --device=/dev/video0 --list-formats-ext

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å MJPEG —Ñ–æ—Ä–º–∞—Ç—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
./scripts/gopro-usb.sh check

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞–º–µ—Ä
./scripts/gopro-usb.sh list

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞—Ö–≤–∞—Ç –∫–∞–¥—Ä–∞
./scripts/gopro-usb.sh test
```

---

## ‚öôÔ∏è –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –í—ã–±–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

- **macOS:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `config.macos.env`
- **Linux:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `config.env`
- **Raspberry Pi:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `config.pi.env`

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### macOS (config.macos.env)

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
nano config.macos.env

# –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

# === –ò–°–¢–û–ß–ù–ò–ö –í–ò–î–ï–û ===
INPUT_SOURCE=usb

# USB –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–í–ê–ñ–ù–û: –Ω–∞ macOS –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ò–ù–î–ï–ö–°, –∞ –Ω–µ –ø—É—Ç—å!)
USB_DEVICE=1              # 0=–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–∞–º–µ—Ä–∞, 1=–ø–µ—Ä–≤–∞—è –≤–Ω–µ—à–Ω—è—è (GoPro)
USB_RESOLUTION=1080       # 480, 720, –∏–ª–∏ 1080
USB_FPS=30

# –ü—É—Ç–∏ (–¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏)
OUTPUT_DIR=./recordings
LOG_FILE=./logs/motion_detector.log
CONTROL_FILE=./control/command

# –î–µ—Ç–µ–∫—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
BUFFER_SECONDS=5
POST_MOTION_SECONDS=5
MIN_CONTOUR_AREA=500
MIN_MOTION_FRAMES=3
MOTION_AREA_PERCENT=3.0   # –î–ª—è —Å—Ç–∞—Ä—Ç–∞ –∑–∞–ø–∏—Å–∏
EXTEND_MOTION_PERCENT=0.2 # –î–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ä—Ç –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏
AUTO_START_MOTION=true
DEBUG_MOTION=true

# ROI (–ø–æ–∫–∞ –æ—Ç–∫–ª—é—á—ë–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
ROI_ENABLED=false
```

#### Linux / Raspberry Pi

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª
nano config.env  # –∏–ª–∏ config.pi.env –¥–ª—è Raspberry Pi

# –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

INPUT_SOURCE=usb

# USB –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ü–£–¢–¨ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É)
USB_DEVICE=/dev/video0    # –ò–ª–∏ /dev/video1, /dev/video2...
USB_RESOLUTION=1080
USB_FPS=30

# –ü—É—Ç–∏
OUTPUT_DIR=./recordings
LOG_FILE=./logs/motion_detector.log
CONTROL_FILE=./control/command

# –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ macOS
```

---

## üöÄ –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
mkdir -p recordings/motion recordings/manual logs control
```

### –ó–∞–ø—É—Å–∫ —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# macOS
export $(cat config.macos.env | grep -v '^#' | xargs)
python detector/motion_detector.py

# Linux
export $(cat config.env | grep -v '^#' | xargs)
python detector/motion_detector.py

# Raspberry Pi
export $(cat config.pi.env | grep -v '^#' | xargs)
python detector/motion_detector.py
```

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç-–æ–±—ë—Ä—Ç–∫—É

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `run-native.sh`:

```bash
#!/bin/bash
# –ó–∞–ø—É—Å–∫ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –≤ –Ω–∞—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ

cd "$(dirname "$0")"

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
if [[ "$OSTYPE" == "darwin"* ]]; then
    CONFIG_FILE="config.macos.env"
    echo "üçé –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: macOS"
elif [[ -f "/etc/rpi-issue" ]]; then
    CONFIG_FILE="config.pi.env"
    echo "ü•ß –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: Raspberry Pi"
else
    CONFIG_FILE="config.env"
    echo "üêß –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: Linux"
fi

echo "üìù –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: $CONFIG_FILE"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
if [ ! -d "venv" ]; then
    echo "‚ùå –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!"
    echo "   –°–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ: python3 -m venv venv"
    exit 1
fi

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
source venv/bin/activate

# –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
export $(cat "$CONFIG_FILE" | grep -v '^#' | xargs)

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
mkdir -p recordings/motion recordings/manual logs control

# –ó–∞–ø—É—Å–∫ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞
echo "üöÄ –ó–∞–ø—É—Å–∫ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –¥–≤–∏–∂–µ–Ω–∏—è..."
echo ""
python detector/motion_detector.py
```

–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
chmod +x run-native.sh
./run-native.sh
```

---

## üìä –®–∞–≥ 6: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
tail -f logs/motion_detector.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–µ–π

```bash
# –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
ls -lh recordings/motion/

# –ê–Ω–∞–ª–∏–∑ –∑–∞–ø–∏—Å–µ–π
./scripts/analyze-recordings.sh

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∏–¥–µ–æ
ffplay $(ls -t recordings/motion/*.mp4 | head -1)
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–º

–î–µ—Ç–µ–∫—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è.
–î–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ (Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –¥–µ—Ç–µ–∫—Ç–æ—Ä)

# –ò–ª–∏ —á–µ—Ä–µ–∑ control file:
echo "STOP" > control/command
```

---

## üîß –®–∞–≥ 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –≤–∏–¥–µ–æ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å–∏–º—É–ª—è—Ü–∏—é
python test_motion_simulation.py recordings/motion/bird_*.mp4

# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
# - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤
# - –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
# - –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (fps)
```

### –¢–µ—Å—Ç 2: –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞—Ö–≤–∞—Ç —Å GoPro

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ GoPro –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
./scripts/gopro-usb.sh check

# –ó–∞—Ö–≤–∞—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–∞–¥—Ä–∞
./scripts/gopro-usb.sh test

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª test_capture.jpg
```

### –¢–µ—Å—Ç 3: –ó–∞–ø—É—Å–∫ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –Ω–∞ 1 –º–∏–Ω—É—Ç—É

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä
./run-native.sh

# –ü–æ–¥–æ–∂–¥–∏—Ç–µ ~1 –º–∏–Ω—É—Ç—É
# –ü–æ–¥–≤–∏–≥–∞–π—Ç–µ —á—Ç–æ-—Ç–æ –ø–µ—Ä–µ–¥ –∫–∞–º–µ—Ä–æ–π
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ (Ctrl+C)

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
ls -lh recordings/motion/
```

---

## ‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: GoPro –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è

**macOS:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–∞–º–µ—Ä
ffmpeg -f avfoundation -list_devices true -i ""

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –∏–Ω–¥–µ–∫—Å—ã –≤ config.macos.env:
USB_DEVICE=0  # –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–∞–º–µ—Ä–∞ (–¥–ª—è —Ç–µ—Å—Ç–∞)
USB_DEVICE=1  # –û–±—ã—á–Ω–æ GoPro
USB_DEVICE=2  # –ï—Å–ª–∏ GoPro –Ω–∞ –≤—Ç–æ—Ä–æ–º –∏–Ω–¥–µ–∫—Å–µ
```

**Linux:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la /dev/video*

# –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É video
sudo usermod -a -G video $USER
# –ü–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
v4l2-ctl --device=/dev/video0 --all
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "OpenCV not found"

```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ OpenCV
pip uninstall opencv-python opencv-python-headless
pip install opencv-python-headless==4.9.0.80

# –î–ª—è Raspberry Pi (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø–∞–∫–µ—Ç):
sudo apt install python3-opencv
```

### –ü—Ä–æ–±–ª–µ–º–∞: FFmpeg –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∫–∞–º–µ—Ä—É

**macOS:**
```bash
# –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ –≤:
# System Settings ‚Üí Privacy & Security ‚Üí Camera
# –î–æ–±–∞–≤—å—Ç–µ Terminal –∏–ª–∏ –≤–∞—à IDE
```

**Linux:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ GoPro –≤ —Ä–µ–∂–∏–º–µ GoPro Connect
# –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç–µ USB –∫–∞–±–µ–ª—å
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: dmesg | grep -i video
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```bash
# –°–Ω–∏–∑—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ñ–∏–≥–µ:
USB_RESOLUTION=720  # –í–º–µ—Å—Ç–æ 1080

# –ò–ª–∏ —Å–Ω–∏–∑—å—Ç–µ FPS:
USB_FPS=15  # –í–º–µ—Å—Ç–æ 30

# –î–ª—è Raspberry Pi –≤–∫–ª—é—á–∏—Ç–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ:
sudo raspi-config
# Performance Options ‚Üí GPU Memory ‚Üí 256
```

---

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### macOS

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Apple Silicon –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (M1/M2/M3)
# OpenCV –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Å–∫–æ—Ä–µ–Ω–∏–µ

# –î–ª—è Intel Mac - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π NumPy:
pip install numpy --force-reinstall --no-binary numpy
```

### Linux / Raspberry Pi

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π OpenCV (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è ARM):
pip uninstall opencv-python-headless
sudo apt install python3-opencv

# –î–ª—è Raspberry Pi 5 –≤–∫–ª—é—á–∏—Ç–µ V4L2 —É—Å–∫–æ—Ä–µ–Ω–∏–µ:
sudo modprobe bcm2835-v4l2
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

```
/app/
‚îú‚îÄ‚îÄ venv/                    # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
‚îú‚îÄ‚îÄ detector/
‚îÇ   ‚îú‚îÄ‚îÄ motion_detector.py   # –û—Å–Ω–æ–≤–Ω–æ–π –¥–µ—Ç–µ–∫—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ storage_manager.py   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt     # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ recordings/
‚îÇ   ‚îú‚îÄ‚îÄ motion/              # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏
‚îÇ   ‚îî‚îÄ‚îÄ manual/              # –†—É—á–Ω—ã–µ –∑–∞–ø–∏—Å–∏
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îî‚îÄ‚îÄ motion_detector.log  # –õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã
‚îú‚îÄ‚îÄ control/
‚îÇ   ‚îî‚îÄ‚îÄ command              # –§–∞–π–ª –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ gopro-usb.sh         # –ü—Ä–æ–≤–µ—Ä–∫–∞ GoPro
‚îÇ   ‚îî‚îÄ‚îÄ analyze-recordings.sh # –ê–Ω–∞–ª–∏–∑ –∑–∞–ø–∏—Å–µ–π
‚îú‚îÄ‚îÄ config.macos.env         # –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è macOS
‚îú‚îÄ‚îÄ config.env               # –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è Linux
‚îú‚îÄ‚îÄ config.pi.env            # –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è Raspberry Pi
‚îú‚îÄ‚îÄ run-native.sh            # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ TESTING_REPORT.md        # –û—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
```

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (TL;DR)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
# macOS:
brew install python@3.11 ffmpeg
# Linux:
sudo apt install python3 python3-pip ffmpeg v4l-utils -y

# 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate
pip install -r detector/requirements.txt

# 3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GoPro
# –ù–∞ –∫–∞–º–µ—Ä–µ: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí USB ‚Üí GoPro Connect
./scripts/gopro-usb.sh check

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥
# macOS: nano config.macos.env (USB_DEVICE=1)
# Linux: nano config.env (USB_DEVICE=/dev/video0)

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä
./run-native.sh
```

---

## üìû –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–ü–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:** `TESTING_REPORT.md`
- **–ê–Ω–∞–ª–∏–∑ –∑–∞–ø–∏—Å–µ–π:** `./scripts/analyze-recordings.sh`
- **–¢–µ—Å—Ç–æ–≤–∞—è —Å–∏–º—É–ª—è—Ü–∏—è:** `python test_motion_simulation.py`

---

**–ì–æ—Ç–æ–≤–æ! –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞ –≤ –Ω–∞—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏!** üéâ
