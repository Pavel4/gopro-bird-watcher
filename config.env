# Конфигурация Motion Detector
# Редактируйте этот файл и перезапускайте детектор

# RTMP поток
RTMP_URL=rtmp://nginx-rtmp/live

# Пути
OUTPUT_DIR=/app/recordings
LOG_FILE=/app/logs/motion_detector.log
CONTROL_FILE=/app/control/command

# Буфер записи (секунды)
# BUFFER_SECONDS - сколько секунд ДО начала движения включить в видео
# POST_MOTION_SECONDS - сколько секунд ПОСЛЕ окончания движения записывать
BUFFER_SECONDS=5
POST_MOTION_SECONDS=5

# Пороги для значимого движения (для СТАРТА записи)
MIN_CONTOUR_AREA=500
MIN_MOTION_FRAMES=3
MOTION_AREA_PERCENT=3.0

# Порог для ПРОДЛЕНИЯ записи (любое движение выше этого - продлевает запись)
# Чем меньше - тем дольше будет записывать при слабом движении
# 0.0 = отключено, любой > 0 продлевает
EXTEND_MOTION_PERCENT=0.2

# Режим отладки (показывает % движения в логах)
DEBUG_MOTION=true

# Авто-старт записи при движении (true/false)
AUTO_START_MOTION=true

# Длительность сегмента записи (секунды)
# Меньше = точнее буфер, больше = меньше файлов
SEGMENT_DURATION=1

# === ROI (Region of Interest) - область кормушки ===
# Включает обрезку видео и детекцию движения только в области кормушки
# Используйте ./scripts/select-roi.sh для интерактивного выбора области

# Включить ROI (true/false)
ROI_ENABLED=false

# Координаты области в пикселях (выбираются через select-roi.sh)
ROI_X=0
ROI_Y=0
ROI_WIDTH=0
ROI_HEIGHT=0