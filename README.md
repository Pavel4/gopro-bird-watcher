# üê¶ GoPro Bird Watcher

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–ø–∏—Å–∏ –≤–∏–¥–µ–æ —Å GoPro Hero 13 –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è.
–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –ø—Ç–∏—Ü–∞–º–∏ –Ω–∞ –∫–æ—Ä–º—É—à–∫–µ.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì° –ü—Ä–∏—ë–º RTMP –ø–æ—Ç–æ–∫–∞ —Å GoPro –ø–æ WiFi
- üéØ –£–º–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏
- üé¨ –î–≤–∞ —Ä–µ–∂–∏–º–∞ –∑–∞–ø–∏—Å–∏:
  - **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π** ‚Äî –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
  - **–†—É—á–Ω–æ–π** ‚Äî –ø–æ –∫–æ–º–∞–Ω–¥–µ
- ‚è™ –ë—É—Ñ–µ—Ä: –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç N —Å–µ–∫—É–Ω–¥ **–¥–æ** –∏ **–ø–æ—Å–ª–µ** –¥–≤–∏–∂–µ–Ω–∏—è
- üïê –í—Ä–µ–º—è –ø–æ –ú–æ—Å–∫–≤–µ –≤ –∏–º–µ–Ω–∞—Ö —Ñ–∞–π–ª–æ–≤
- üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
GoPro Hero 13 ‚îÄ‚îÄWiFi/RTMP‚îÄ‚îÄ> nginx-rtmp ‚îÄ‚îÄ> Motion Detector
     ‚îÇ                           ‚îÇ                ‚îÇ
     ‚îÇ                           ‚îî‚îÄ‚îÄ> VLC/OBS     ‚îú‚îÄ‚îÄ> recordings/motion/
     ‚îÇ                                            ‚îî‚îÄ‚îÄ> recordings/manual/
     ‚îî‚îÄ‚îÄ SD –∫–∞—Ä—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- GoPro Hero 13 (–∏–ª–∏ –¥—Ä—É–≥–∞—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π RTMP)
- –û–¥–Ω–∞ WiFi —Å–µ—Ç—å –¥–ª—è GoPro –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone https://github.com/your-username/gopro-bird-watcher.git
cd gopro-bird-watcher
./scripts/start.sh
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GoPro

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ **GoPro Quik** –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ:
1. –ü—Ä—è–º–∞—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è ‚Üí RTMP
2. RTMP URL: `rtmp://<IP-–≤–∞—à–µ–≥–æ-–∫–æ–º–ø—å—é—Ç–µ—Ä–∞>/live`
3. –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 720p
4. –ù–∞–∂–∞—Ç—å "–ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é"

### 3. –í–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏

```bash
./scripts/motion-on.sh
```

## üìã –ö–æ–º–∞–Ω–¥—ã

### –°–∏—Å—Ç–µ–º–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `./scripts/start.sh` | –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã |
| `./scripts/stop.sh` | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ |
| `./scripts/status.sh` | –°—Ç–∞—Ç—É—Å |

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å (–ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏)

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `./scripts/motion-on.sh` | –í–∫–ª—é—á–∏—Ç—å |
| `./scripts/motion-off.sh` | –í—ã–∫–ª—é—á–∏—Ç—å |

‚Üí –ó–∞–ø–∏—Å–∏: `recordings/motion/bird_–ì–ì–ì–ì-–ú–ú-–î–î_–ß–ß-–ú–ú-–°–°_XXmYYs.mp4`

### –†—É—á–Ω–∞—è –∑–∞–ø–∏—Å—å

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `./scripts/record-start.sh` | –ù–∞—á–∞—Ç—å |
| `./scripts/record-stop.sh` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å |

‚Üí –ó–∞–ø–∏—Å–∏: `recordings/manual/manual_–ì–ì–ì–ì-–ú–ú-–î–î_–ß–ß-–ú–ú-–°–°_XXmYYs.mp4`

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.env`:

```env
# –ë—É—Ñ–µ—Ä –∑–∞–ø–∏—Å–∏ (—Å–µ–∫—É–Ω–¥—ã)
BUFFER_SECONDS=5           # –°–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –î–û –¥–≤–∏–∂–µ–Ω–∏—è –∑–∞–ø–∏—Å–∞—Ç—å
POST_MOTION_SECONDS=5      # –°–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –ü–û–°–õ–ï –¥–≤–∏–∂–µ–Ω–∏—è –∑–∞–ø–∏—Å–∞—Ç—å

# –ü–æ—Ä–æ–≥–∏ –¥–ª—è –°–¢–ê–†–¢–ê –∑–∞–ø–∏—Å–∏
MIN_CONTOUR_AREA=500       # –ú–∏–Ω. –ø–ª–æ—â–∞–¥—å –∫–æ–Ω—Ç—É—Ä–∞ (–ø–∏–∫—Å–µ–ª–∏)
MIN_MOTION_FRAMES=3        # –ú–∏–Ω. –∫–∞–¥—Ä–æ–≤ –ø–æ–¥—Ä—è–¥ –¥–ª—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
MOTION_AREA_PERCENT=3.0    # –ú–∏–Ω. % –ø–ª–æ—â–∞–¥–∏ –∫–∞–¥—Ä–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –∑–∞–ø–∏—Å–∏

# –ü–æ—Ä–æ–≥ –¥–ª—è –ü–†–û–î–õ–ï–ù–ò–Ø –∑–∞–ø–∏—Å–∏
EXTEND_MOTION_PERCENT=0.2  # –ú–∏–Ω. % –¥–≤–∏–∂–µ–Ω–∏—è —á—Ç–æ–±—ã –ø—Ä–æ–¥–ª–∏—Ç—å –∑–∞–ø–∏—Å—å
                           # –ú–µ–Ω—å—à–µ = –¥–æ–ª—å—à–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–∏ —Å–ª–∞–±–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏

# –û—Ç–ª–∞–¥–∫–∞
DEBUG_MOTION=false         # –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å % –¥–≤–∏–∂–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö (–¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏)
```

**–ü–æ–¥—Å—Ç—Ä–æ–π–∫–∞:**
- –ú–Ω–æ–≥–æ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π ‚Üí —É–≤–µ–ª–∏—á—å—Ç–µ `MOTION_AREA_PERCENT`
- –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø—Ç–∏—Ü ‚Üí —É–º–µ–Ω—å—à–∏—Ç–µ –ø–æ—Ä–æ–≥–∏
- –í–∏–¥–µ–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –¥–æ –∫–æ–Ω—Ü–∞ –¥–≤–∏–∂–µ–Ω–∏—è ‚Üí —É–º–µ–Ω—å—à–∏—Ç–µ `EXTEND_MOTION_PERCENT`
- –î–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –≤–∫–ª—é—á–∏—Ç–µ `DEBUG_MOTION=true` –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
gopro-bird-watcher/
‚îú‚îÄ‚îÄ config.env              # ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∑–¥–µ—Å—å)
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ nginx.conf              # RTMP —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ detector/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ motion_detector.py  # –î–µ—Ç–µ–∫—Ç–æ—Ä –¥–≤–∏–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ scripts/                # –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ recordings/
‚îÇ   ‚îú‚îÄ‚îÄ motion/             # üê¶ –ê–≤—Ç–æ–∑–∞–ø–∏—Å–∏
‚îÇ   ‚îî‚îÄ‚îÄ manual/             # üé¨ –†—É—á–Ω—ã–µ –∑–∞–ø–∏—Å–∏
‚îú‚îÄ‚îÄ logs/
‚îî‚îÄ‚îÄ control/
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ dev-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
./scripts/start-dev.sh

# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
python detector/motion_detector.py

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª
echo MOTION_ON > control/command
echo RECORD_START > control/command
echo STATUS > control/command
```

## üêõ Troubleshooting

### GoPro –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ GoPro –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤ –æ–¥–Ω–æ–π WiFi —Å–µ—Ç–∏
2. –£–∑–Ω–∞–π—Ç–µ IP: `ipconfig getifaddr en0` (Mac) –∏–ª–∏ `hostname -I` (Linux)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã: `docker ps`

### –ú–Ω–æ–≥–æ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
–£–≤–µ–ª–∏—á—å—Ç–µ –ø–æ—Ä–æ–≥–∏ –≤ `config.env`:
```env
MIN_MOTION_FRAMES=5
MOTION_AREA_PERCENT=3.0
```

### –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø—Ç–∏—Ü
–£–º–µ–Ω—å—à–∏—Ç–µ –ø–æ—Ä–æ–≥–∏:
```env
MIN_MOTION_FRAMES=2
MOTION_AREA_PERCENT=1.0
```

### –í–∏–¥–µ–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –¥–æ –∫–æ–Ω—Ü–∞ –¥–≤–∏–∂–µ–Ω–∏—è
–£–º–µ–Ω—å—à–∏—Ç–µ –ø–æ—Ä–æ–≥ –ø—Ä–æ–¥–ª–µ–Ω–∏—è:
```env
EXTEND_MOTION_PERCENT=0.1
DEBUG_MOTION=true  # –í–∫–ª—é—á–∏—Ç–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```

## üì∑ –§–∏–∑–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ö—Ä–µ–ø–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
1. –û–±–µ–∑–∂–∏—Ä–∏—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å —Å–ø–∏—Ä—Ç–æ–º
2. –ü—Ä–∏–∫–ª–µ–∏—Ç—å Adhesive Mount (3M VHB)
3. –î–∞—Ç—å —Å—Ö–≤–∞—Ç–∏—Ç—å—Å—è 2-3 —á–∞—Å–∞
4. –ó–∞–∫—Ä–µ–ø–∏—Ç—å GoPro

### –ü–∏—Ç–∞–Ω–∏–µ
- Power bank –¥–µ—Ä–∂–∞—Ç—å **–≤–Ω—É—Ç—Ä–∏** –ø–æ–º–µ—â–µ–Ω–∏—è (–ª–∏—Ç–∏–π –Ω–µ –ª—é–±–∏—Ç –º–æ—Ä–æ–∑)
- USB-C –∫–∞–±–µ–ª—å 2-3–º —á–µ—Ä–µ–∑ –ø—Ä–∏–æ—Ç–∫—Ä—ã—Ç–æ–µ –æ–∫–Ω–æ

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üîÆ –ü–ª–∞–Ω—ã

- [ ] ML-–º–æ–¥–µ–ª—å –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≤–∏–¥–æ–≤ –ø—Ç–∏—Ü
- [ ] Telegram/Discord —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–ø–∏—Å–µ–π
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π –∫–æ—Ä–º—É—à–∫–∏
- [ ] –°—Ç–∞—Ç—É—Å –∫–∞–º–µ—Ä—ã: –±–∞—Ç–∞—Ä–µ—è, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–º–µ—Ä—ã
